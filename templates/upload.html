
{% extends "layout.html" %}
{% block title %}이미지 업로드{% endblock %}
{% block content %}
<div class="upload-section">
    <h2>이미지 업로드</h2>
    <p>쓰레기 이미지를 업로드하여 종류를 확인하고, 올바르게 버려졌는지 확인하세요.</p>
    <form method=post enctype=multipart/form-data>
        <input type=file name=file>
        <input type=submit value=업로드>
    </form>

    {% if filename %}
    <div class="result">
        <h2>업로드된 이미지:</h2>
        <img src="{{ url_for('static', filename='uploads/' + filename) }}">
        <h2>분석 결과:</h2>
        {% if trash_types %}
            <p><strong>쓰레기 종류:</strong> {{ ', '.join(trash_types) }}</p>
        {% else %}
            <p><strong>쓰레기 종류:</strong> 분석 결과, 인식된 쓰레기가 없습니다.</p>
        {% endif %}

        {% if is_disposed %}
            <p style="color: green;"><strong>처리 상태:</strong> 올바르게 처리되었습니다.</p>
        {% else %}
            <p style="color: red;"><strong>처리 상태:</strong> 올바르게 처리되지 않았습니다.</p>
            <p><strong>분리수거 가이드:</strong> <a href="{{ guide_url }}" target="_blank">올바른 분리수거 방법 확인하기</a></p>
            {% if guide_html %}
                <div class="guide-html">{{ guide_html|safe }}</div>
            {% endif %}
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}
